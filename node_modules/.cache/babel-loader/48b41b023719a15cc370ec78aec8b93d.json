{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\USUARIO\\\\reactjs-study\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\USUARIO\\\\reactjs-study\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\USUARIO\\\\reactjs-study\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import'./StyleMovie.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MovieRequest=function MovieRequest(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){loadMovies();},[]);// const loadMovies = () => {\n//     fetch('https://api.b7web.com.br/cinema/').then((response) => {\n//         return response.json();\n//     })\n//     .then((json) => {\n//         setMovies(json);\n//     })\n//      .catch((e) => {\n//     setLoading(false);\n//     setMovies([]);\n//     console.error(e);\n//      })\n// }\nvar loadMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return fetch('https://api.b7web.com.br/cinema/');case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;setLoading(false);setMovies(json);_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setLoading(false);setMovies([]);console.error(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function loadMovies(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",style:{backgroundColor:'#4F4F4F'},children:[loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Carregando...\"}),/*#__PURE__*/_jsx(\"div\",{children:!loading&&movies.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",style:{color:'#FFFFFF',fontFamily:'Source Code Pro'},children:/*#__PURE__*/_jsxs(\"h1\",{children:[\" Total de Filmes em cartaz: \",movies.length,\" \"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-6 gap-3 \",children:movies.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"movie-frame movie-title flex flex-col text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:item.titulo})]},index);})}),!loading&&movies.length===0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Algo deu errado, tente novamente mais tarde.\"})})]});};export default MovieRequest;","map":{"version":3,"sources":["C:/Users/USUARIO/reactjs-study/src/components/Request/MoviesRequest.jsx"],"names":["useEffect","useState","MovieRequest","movies","setMovies","loading","setLoading","loadMovies","fetch","response","json","console","error","backgroundColor","length","color","fontFamily","map","item","index","avatar","titulo"],"mappings":"yXAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAO,kBAAP,C,wFACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,cAA4BD,QAAQ,CAAC,EAAD,CAApC,wCAAOE,MAAP,eAAeC,SAAf,eACA,eAA8BH,QAAQ,CAAC,KAAD,CAAtC,yCAAOI,OAAP,eAAgBC,UAAhB,eACAN,SAAS,CAAC,UAAK,CACXO,UAAU,GACb,CAFQ,CAEN,EAFM,CAAT,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAMA,CAAAA,UAAU,0FAAG,qKAEXD,UAAU,CAAC,IAAD,CAAV,CAFW,sBAGUE,CAAAA,KAAK,CAAC,kCAAD,CAHf,QAGPC,QAHO,qCAIMA,CAAAA,QAAQ,CAACC,IAAT,EAJN,QAIPA,IAJO,eAKXJ,UAAU,CAAC,KAAD,CAAV,CACAF,SAAS,CAACM,IAAD,CAAT,CANW,iFAQXJ,UAAU,CAAC,KAAD,CAAV,CACAF,SAAS,CAAC,EAAD,CAAT,CACAO,OAAO,CAACC,KAAR,cAVW,qEAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAeA,mBACI,aAAM,SAAS,CAAC,KAAhB,CAAsB,KAAK,CAAE,CAACM,eAAe,CAAE,SAAlB,CAA7B,WACKR,OAAO,eACJ,sCAFR,cAMI,qBACK,CAACA,OAAD,EAAYF,MAAM,CAACW,MAAP,CAAgB,CAA5B,eACG,YAAK,SAAS,CAAC,qBAAf,CAAqC,KAAK,CAAE,CAACC,KAAK,CAAE,SAAR,CAAmBC,UAAU,CAAE,iBAA/B,CAA5C,uBACI,qDAAiCb,MAAM,CAACW,MAAxC,OADJ,EAFR,EANJ,cAaI,YAAK,SAAS,CAAC,yBAAf,UACKX,MAAM,CAACc,GAAP,CAAW,SAACC,IAAD,CAAOC,KAAP,qBACR,aAAK,SAAS,CAAC,mDAAf,wBACI,YAAK,GAAG,CAAED,IAAI,CAACE,MAAf,CAAuB,GAAG,CAAC,EAA3B,EADJ,cAEI,oBAAKF,IAAI,CAACG,MAAV,EAFJ,GAAwEF,KAAxE,CADQ,EAAX,CADL,EAbJ,CAqBK,CAACd,OAAD,EAAYF,MAAM,CAACW,MAAP,GAAkB,CAA9B,eACG,kCACI,oEADJ,EAtBR,GADJ,CA8BH,CAhED,CAiEA,cAAeZ,CAAAA,YAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport './StyleMovie.css';\r\nconst MovieRequest = () => {\r\n    const [movies, setMovies] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    useEffect(() =>{\r\n        loadMovies();\r\n    }, []);\r\n    // const loadMovies = () => {\r\n    //     fetch('https://api.b7web.com.br/cinema/').then((response) => {\r\n    //         return response.json();\r\n    //     })\r\n    //     .then((json) => {\r\n    //         setMovies(json);\r\n    //     })\r\n    //      .catch((e) => {\r\n    //     setLoading(false);\r\n    //     setMovies([]);\r\n    //     console.error(e);\r\n    //      })\r\n    // }\r\n    const loadMovies = async () => {\r\n        try{\r\n            setLoading(true);\r\n            let response = await fetch('https://api.b7web.com.br/cinema/');\r\n            let json = await response.json();\r\n            setLoading(false);\r\n            setMovies(json);\r\n        }catch(e){\r\n            setLoading(false);\r\n            setMovies([]);\r\n            console.error(e);\r\n\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <div  className=\"p-5\" style={{backgroundColor: '#4F4F4F'}}>\r\n            {loading &&\r\n                <div>\r\n                    Carregando...\r\n                </div>\r\n            }\r\n            <div>\r\n                {!loading && movies.length > 0 &&\r\n                    <div className=\"flex justify-center\" style={{color: '#FFFFFF', fontFamily: 'Source Code Pro'}}> \r\n                        <h1> Total de Filmes em cartaz: {movies.length} </h1>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"grid grid-cols-6 gap-3 \">\r\n                {movies.map((item, index) =>(\r\n                    <div className=\"movie-frame movie-title flex flex-col text-center\" key={index}>\r\n                        <img src={item.avatar} alt=\"\"/>\r\n                        <h2>{item.titulo}</h2>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            {!loading && movies.length === 0 &&\r\n                <div>\r\n                    <h1>Algo deu errado, tente novamente mais tarde.</h1>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\nexport default MovieRequest;"]},"metadata":{},"sourceType":"module"}