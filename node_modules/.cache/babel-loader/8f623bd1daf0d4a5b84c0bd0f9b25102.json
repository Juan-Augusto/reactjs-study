{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\USUARIO\\\\reactjs-study\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\USUARIO\\\\reactjs-study\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\USUARIO\\\\reactjs-study\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from\"react\";import{PostForm}from\"./PostForm\";import{PostItem}from\"./PostItem\";import{api}from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var JSONPlaceholder=function JSONPlaceholder(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){loadPosts();},[]);var loadPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return api.getAllPosts();case 3:json=_context.sent;setLoading(false);setPosts(json);case 6:case\"end\":return _context.stop();}}},_callee);}));return function loadPosts(){return _ref.apply(this,arguments);};}();var handleAddPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(title,body){var json;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.addNewPost(title,body,1);case 2:json=_context2.sent;if(json.id){alert(\"Post adicionado com sucesso!\");}else{alert(\"Ocorreu algum erro :(\");}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function handleAddPost(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Carregando...\"}),/*#__PURE__*/_jsx(PostForm,{onAdd:handleAddPost}),/*#__PURE__*/_jsx(\"div\",{children:!loading&&posts.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"my-10\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Total de Posts: \",posts.length]})})}),/*#__PURE__*/_jsx(\"div\",{children:posts.map(function(item,index){return/*#__PURE__*/_jsx(PostItem,{data:item});})}),!loading&&posts.length===0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"N\\xE3o h\\xE1 posts para serem exibidos.\"})})]});};export default JSONPlaceholder;","map":{"version":3,"sources":["C:/Users/USUARIO/reactjs-study/src/components/JSONPlaceholder/JSONPlaceholder.jsx"],"names":["useEffect","useState","PostForm","PostItem","api","JSONPlaceholder","posts","setPosts","loading","setLoading","loadPosts","getAllPosts","json","handleAddPost","title","body","addNewPost","id","alert","length","map","item","index"],"mappings":"yXAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,QAAT,KAAyB,YAAzB,CACA,OAASC,QAAT,KAAyB,YAAzB,CACA,OAASC,GAAT,KAAoB,WAApB,C,wFACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAA8BN,QAAQ,CAAC,KAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eACAT,SAAS,CAAC,UAAM,CACdU,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAGA,GAAMA,CAAAA,SAAS,0FAAG,4IAChBD,UAAU,CAAC,IAAD,CAAV,CADgB,sBAECL,CAAAA,GAAG,CAACO,WAAJ,EAFD,QAEZC,IAFY,eAGhBH,UAAU,CAAC,KAAD,CAAV,CACAF,QAAQ,CAACK,IAAD,CAAR,CAJgB,sDAAH,kBAATF,CAAAA,SAAS,0CAAf,CAMA,GAAMG,CAAAA,aAAa,2FAAG,kBAAOC,KAAP,CAAcC,IAAd,sJACHX,CAAAA,GAAG,CAACY,UAAJ,CAAeF,KAAf,CAAsBC,IAAtB,CAA4B,CAA5B,CADG,QAChBH,IADgB,gBAEpB,GAAIA,IAAI,CAACK,EAAT,CAAa,CACXC,KAAK,CAAC,8BAAD,CAAL,CACD,CAFD,IAEO,CACLA,KAAK,CAAC,uBAAD,CAAL,CACD,CANmB,wDAAH,kBAAbL,CAAAA,aAAa,iDAAnB,CAQA,mBACE,uBACGL,OAAO,eAAI,sCADd,cAEE,KAAC,QAAD,EAAU,KAAK,CAAEK,aAAjB,EAFF,cAGE,qBACG,CAACL,OAAD,EAAYF,KAAK,CAACa,MAAN,CAAe,CAA3B,eACC,YAAK,SAAS,CAAC,OAAf,uBACE,yCAAqBb,KAAK,CAACa,MAA3B,GADF,EAFJ,EAHF,cAUE,qBACGb,KAAK,CAACc,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,qBACT,KAAC,QAAD,EAAU,IAAI,CAAED,IAAhB,EADS,EAAV,CADH,EAVF,CAeG,CAACb,OAAD,EAAYF,KAAK,CAACa,MAAN,GAAiB,CAA7B,eACC,kCACE,+DADF,EAhBJ,GADF,CAuBD,CA3CD,CA4CA,cAAed,CAAAA,eAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { PostForm } from \"./PostForm\";\r\nimport { PostItem } from \"./PostItem\";\r\nimport { api } from \"../../api\";\r\nconst JSONPlaceholder = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    loadPosts();\r\n  }, []);\r\n  const loadPosts = async () => {\r\n    setLoading(true);\r\n    let json = await api.getAllPosts();\r\n    setLoading(false);\r\n    setPosts(json);\r\n  };\r\n  const handleAddPost = async (title, body) => {\r\n    let json = await api.addNewPost(title, body, 1);\r\n    if (json.id) {\r\n      alert(\"Post adicionado com sucesso!\");\r\n    } else {\r\n      alert(\"Ocorreu algum erro :(\");\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {loading && <div>Carregando...</div>}\r\n      <PostForm onAdd={handleAddPost} />\r\n      <div>\r\n        {!loading && posts.length > 0 && (\r\n          <div className=\"my-10\">\r\n            <h1>Total de Posts: {posts.length}</h1>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div>\r\n        {posts.map((item, index) => (\r\n          <PostItem data={item} />\r\n        ))}\r\n      </div>\r\n      {!loading && posts.length === 0 && (\r\n        <div>\r\n          <h1>Não há posts para serem exibidos.</h1>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default JSONPlaceholder;\r\n"]},"metadata":{},"sourceType":"module"}